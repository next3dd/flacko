<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Professional Network Engineer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #77CDFF;
      color: #0D92F4;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }
    .content {
      max-width: 600px;
      padding: 20px;
      border-radius: 10px;
    }
    #clock, #weather {
      margin-top: 10px;
      font-size: 1.2em;
    }
    .language-selector {
      margin-top: 20px;
    }
    .language-selector button {
      background-color: #0D92F4;
      color: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      margin: 5px;
    }
    #ip-display {
      margin-top: 20px;
      font-size: 1.1em;
      color: #0D92F4;
    }
    #ip-text {
      cursor: pointer;
    }
    #ip-text b {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="content">
    <h1 id="title"><strong><em>stunninflacko</em></strong></h1>
    <p id="description">
      Erfahrener IT-Netzwerktechniker mit umfassender Expertise in der Planung, Implementierung und Wartung robuster, skalierbarer Netzwerkinfrastrukturen. Fachkundig in Netzwerkarchitektur, Sicherheitsprotokollen und Leistungsoptimierung.
    </p>
    <p id="clock"></p>
    <p id="weather">Lade Wetterdaten...</p>
    
    <div class="language-selector">
      <button onclick="setLanguage('de')">Deutsch</button>
      <button onclick="setLanguage('en')">English</button>
      <button onclick="setLanguage('it')">Italiano</button>
      <button onclick="setLanguage('fr')">Français</button>
    </div>

    <p id="ip-display">
      <span id="ip-text" onclick="revealIP()">
        IP Adresse: <b>Klicken Sie, um anzuzeigen</b> <!-- Default text in German -->
      </span>
    </p>
  </div>

  <script>
    const translations = {
      de: {
        title: "<strong><em>stunninflacko</em></strong>",
        description: "Erfahrener IT-Netzwerktechniker mit umfassender Expertise in der Planung, Implementierung und Wartung robuster, skalierbarer Netzwerkinfrastrukturen. Fachkundig in Netzwerkarchitektur, Sicherheitsprotokollen und Leistungsoptimierung.",
        loadingWeather: "Lade Wetterdaten...",
        errorWeather: "Wetterdaten konnten nicht geladen werden.",
        timeLabel: "Uhrzeit",
        dateLabel: "Datum",
        weatherIn: "Aktuelles Wetter in",
        ipText: "IP Adresse: <b>Klicken Sie, um anzuzeigen</b>"  // Translated IP text for German
      },
      en: {
        title: "<strong><em>stunninflacko</em></strong>",
        description: "Experienced IT Network Engineer with deep expertise in designing, implementing, and maintaining robust, scalable network infrastructures. Skilled in network architecture, security protocols, and performance optimization.",
        loadingWeather: "Loading weather data...",
        errorWeather: "Weather data could not be loaded.",
        timeLabel: "Time",
        dateLabel: "Date",
        weatherIn: "Current weather in",
        ipText: "IP Address: <b>Click to reveal</b>"  // Translated IP text for English
      },
      it: {
        title: "<strong><em>stunninflacko</em></strong>",
        description: "Ingegnere IT esperto in reti con profonda esperienza nella progettazione, implementazione e manutenzione di infrastrutture di rete robuste e scalabili. Competente in architettura di rete, protocolli di sicurezza e ottimizzazione delle prestazioni.",
        loadingWeather: "Caricamento dei dati meteorologici...",
        errorWeather: "I dati meteorologici non sono stati caricati.",
        timeLabel: "Ora",
        dateLabel: "Data",
        weatherIn: "Meteo attuale a",
        ipText: "Indirizzo IP: <b>Clicca per rivelare</b>"  // Translated IP text for Italian
      },
      fr: {
        title: "<strong><em>stunninflacko</em></strong>",
        description: "Ingénieur réseau IT expérimenté avec une grande expertise dans la conception, l'implémentation et la maintenance d'infrastructures réseau robustes et évolutives. Compétent en architecture réseau, protocoles de sécurité et optimisation des performances.",
        loadingWeather: "Chargement des données météo...",
        errorWeather: "Les données météo n'ont pas pu être chargées.",
        timeLabel: "Heure",
        dateLabel: "Date",
        weatherIn: "Météo actuelle à",
        ipText: "Adresse IP : <b>Cliquez pour révéler</b>"  // Translated IP text for French
      }
    };

    let currentLang = 'de'; // Default to German

    function setLanguage(lang) {
      currentLang = lang; // Store the selected language
      document.getElementById('title').innerHTML = translations[lang].title; // Use innerHTML for the title to render HTML
      document.getElementById('description').innerText = translations[lang].description;
      document.getElementById('weather').innerText = translations[lang].loadingWeather;
      document.getElementById('ip-text').innerHTML = translations[lang].ipText; // Set the IP text with the HTML
      timeLabel = translations[lang].timeLabel;
      dateLabel = translations[lang].dateLabel;
      weatherIn = translations[lang].weatherIn;
      fetchWeather(lang); // Update weather with language
      updateClock(); // Immediately update the clock on language change
    }

    let timeLabel = translations['de'].timeLabel; // Default to German
    let dateLabel = translations['de'].dateLabel; // Default to German
    let weatherIn = translations['de'].weatherIn;

    function updateClock() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('de-DE', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false });
      const dateString = now.toLocaleDateString('de-DE');
      
      document.getElementById('clock').innerHTML = `${timeLabel}: ${timeString} <br>${dateLabel}: ${dateString}`;
    }
    
    setInterval(updateClock, 1000); // Continue updating the clock every second
    updateClock(); // Update immediately on page load

    async function fetchWeather(lang = 'de') {
      try {
        const response = await fetch('https://ipinfo.io/json?token=2b607f3225f012');
        const data = await response.json();
        const location = data.city;
        
        const weatherResponse = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${location}&units=metric&appid=2500a2ede00044dbbbce1f4d58053ccb&lang=${lang}`);
        const weatherData = await weatherResponse.json();
        
        document.getElementById('weather').innerText = `${weatherIn} ${location}: ${weatherData.weather[0].description}, ${weatherData.main.temp}°C`;
      } catch (error) {
        document.getElementById('weather').innerText = translations[lang].errorWeather;
      }
    }
    fetchWeather(); // Initial weather fetch on load

    async function revealIP() {
      try {
        const response = await fetch('https://ipinfo.io/json?token=2b607f3225f012');
        const data = await response.json();
        // Change the text to show the IP address, based on the current language
        document.getElementById('ip-text').innerHTML = `${translations[currentLang].ipText.split('<b>')[0]} <b>${data.ip}</b>`;
      } catch (error) {
        document.getElementById('ip-text').innerText = `${translations[currentLang].ipText.split('<b>')[0]} Could not retrieve`;
      }
    }
  </script>
</body>
</html>
